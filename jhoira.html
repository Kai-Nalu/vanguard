<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jhoira of the Ghitu</title>
</head>
<body>
  <h1>Jhoira of the Ghitu</h1>
  <h2>Refresh this page to generate 3 random instants and 3 random sorceries.</h2>
  <div id="cards">
    <h3>Instants:<h3>
    <img id="i1"><img id="i2"><img id="i3">
    <h3>Sorceries:<h3>
    <img><img><img>
  </div>
</body>
<script>
  document.getElementById("cards").style.display = "none";
  function fetchJson(errmsg, ...args) {
    return fetch(...args)
        .then(response => {
            if (!response.ok) { // *** .ok is simpler than .status == 200
                throw new Error(errmsg);
            }
            return response.json();
        });
  }
  const randInst = new Request('https://api.scryfall.com/cards/random?q=t%3Ainstant');
  document.getElementById("i1").src = JSON.parse(fectchJson('woops', randInst)).image_uris.small;
  
  /*var request = new XMLHttpRequest();
  request.open('GET', "https://api.scryfall.com/cards/random?q=t%3Ainstant");
  for (int i = 1; i <= 3; i++) {
    request.send();
    request.onload = () => {
     if (request.status === 200) {
       var image = JSON.parse(request.response).image_uris.small;
       var element = "i"+i;
       document.getElementById(element).src = image;
     }
    };
  }*/
  document.getElementById("cards").style.display = "block";
</script>
</html>
